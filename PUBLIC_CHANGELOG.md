# История изменений

## 27 января 2026
### Добавлено
- **Улучшения расписания**:
  - **Быстрая навигация**: кнопочная панель (Пред. неделя / Сегодня / След. неделя) для мгновенного перехода по датам
  - **Живое расписание**:
    - Подсветка текущего занятия (зеленая рамка + индикатор)
    - Выделение текущего дня в шапке календаря
    - Автоматическое обновление статуса (Now) в реальном времени

### Улучшено
- **Эстетика карточек**: счетчик дополнительных занятий (+1 занятие) теперь аккуратно расположен в углу и не ломает верстку длинных названий
- **Интерфейс**: исправлена прокрутка в окне "Изменения в расписании" (теперь список не обрезается)
- Оптимизирован интерфейс навигации для мобильных устройств (компактные кнопки)
- Добавлена вибрация (haptic feedback) при переключении недель на телефонах

---

## 26 января 2026
### Улучшено
- **Адаптивность ИИ-помощника**:
  - На мобильных устройствах (iOS/Android) чат теперь открывается в удобной выдвижной панели (Drawer) снизу
  - Исправлено обрезание интерфейса на iPhone (safe area)
  - На ПК сохранено компактное всплывающее окно (Popover)
- Исправлены мелкие визуальные недочеты в истории сообщений

### Добавлено
- **Лог сессии (Debug)**:
  - Автоматический мониторинг изменений расписания (каждую минуту)
  - Сохранение истории изменений в рамках сессии
  - Детальный просмотр "Было → Стало" для каждого изменения (аудитория, преподаватель, время)
  - Подсветка добавленных, измененных и удаленных пар

---

## 25 января 2026
### Добавлено
- **ИИ-помощник "Игорь 2.0"**:
  - Интегрирована мощная модель **Gemini 2.5 Flash** для анализа 11к+ строк данных расписания
  - Глубокая аналитика: автоматический поиск "окон" у групп и расчет нагрузки преподавателей
  - Премиальный интерфейс чата с поддержкой Markdown и сохранением истории сессий
  - "Stealth" мониторинг ресурсов: компактные счетчики токенов и суточных квот в шапке чата
- Новая кнопка быстрой очистки истории переписки

### Улучшено
- **UI/UX оптимизация**:
  - История изменений (Changelog) теперь поддерживает полноценный Markdown (жирный текст, списки, ссылки)
  - Поле ввода переведено на стандарты Shadcn UI (компонент `Textarea`)
  - Скрыты лишние элементы управления прокруткой для более "чистого" вида
  - Улучшено вертикальное центрирование текста в чате
- Локализация всех технических индикаторов на русский язык
- Лимиты генерации ИИ увеличены до 2048 токенов для подробных ответов

---

## 23 января 2026
### Добавлено
- Полноценная поддержка PWA (Progressive Web App):
  - Офлайн-режим: расписание теперь доступно без интернета (загрузка последних данных из кэша)
  - Быстрые команды (Shortcuts) для мгновенного перехода к поиску преподавателей
  - Улучшенная интеграция с iOS (полноэкранный режим, корректные иконки)
- Подписка на персональный календарь для преподавателей
- Кнопки быстрого выбора "Сегодня" и "След. неделя" в календаре
- Пульсирующий индикатор текущего дня
- Вкладка "История" на странице отладки для отслеживания версий

### Улучшено
- Стабильность: оптимизирована обработка больших данных (11к+ строк), увеличен лимит памяти Node.js (в процессе)
- Динамическое формирование имени PDF-файла (с ФИО преподавателя или номером группы)
- Улучшена верстка календаря: увеличены ячейки для удобства нажатия на мобильных устройствах
- Обновлены метаданные (Viewport API) для корректной работы в современных версиях Next.js

### Исправлено
- Ошибка "JavaScript heap out of memory" при загрузке расписания
- Ошибка гидратации React (вложенность тегов div в p) в блоке подписки
- Ошибки типизации TypeScript, блокировавшие деплой на Vercel
- Предупреждение о некорректном расположении `themeColor` в метаданных (в процессе)

---

## 20 января 2026
### Добавлено
- Поиск в списках групп и преподавателей
- Уведомления при изменении расписания
- Подписка на календарь (iCal)

### Улучшено
- Адаптивность фильтров для мобильных устройств
- Доступность (screen readers)
