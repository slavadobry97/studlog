# üéâ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞—è–≤–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é - –ì–û–¢–û–í–û!

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏**
–ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—ë—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–£–≤–∞–∂–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞" (ExcusedAbsent)
- –°–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–ø—É—Å–∫ —Å –∑–∞—è–≤–∫–æ–π

### 2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫**
- **–û–¥–Ω–æ –∑–∞–Ω—è—Ç–∏–µ**: –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `schedule_id`
- **–ü–µ—Ä–∏–æ–¥**: –µ—Å–ª–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —É–∫–∞–∑–∞–Ω—ã –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `[2025-12-23, 2025-12-24]`

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∑–∞—è–≤–∫–∏**
–ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏:
- –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–ø—É—Å–∫–∏ –º–µ–Ω—è—é—Ç—Å—è –Ω–∞ "–ù–µ—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–µ"
- –°–≤—è–∑—å —Å –∑–∞—è–≤–∫–æ–π —É–¥–∞–ª—è–µ—Ç—Å—è

### 4. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã**
–í "–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–ø—É—Å–∫–æ–≤" –ø—Ä–æ–ø—É—Å–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∑–∞—è–≤–∫–∞–º–∏, –æ—Ç–º–µ—á–µ–Ω—ã –±–µ–π–¥–∂–µ–º:
```
üìÑ –ó–∞—è–≤–∫–∞
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤/–º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–≤:

1. **–û–¥–æ–±—Ä–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞—è–≤–∫–∏"
   - –ù–∞–∂–º–∏—Ç–µ ‚úÖ –Ω–∞ –Ω—É–∂–Ω–æ–π –∑–∞—è–≤–∫–µ
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ—Ç–∏—Ç –ø—Ä–æ–ø—É—Å–∫–∏ –∫–∞–∫ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–µ

2. **–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏:**
   - –ù–∞–∂–º–∏—Ç–µ ‚ùå –Ω–∞ –∑–∞—è–≤–∫–µ
   - –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –±—ã–ª–∞ –æ–¥–æ–±—Ä–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∏ —Å—Ç–∞–Ω—É—Ç –Ω–µ—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏

3. **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ "–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ–ø—É—Å–∫–æ–≤" —Å—Ç—É–¥–µ–Ω—Ç–∞
   - –ü—Ä–æ–ø—É—Å–∫–∏ –ø–æ –∑–∞—è–≤–∫–∞–º –æ—Ç–º–µ—á–µ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –±–µ–π–¥–∂–µ–º

### –î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:

1. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É
2. –ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–ø—É—Å–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω—É—Ç —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏
3. –≠—Ç–æ –æ—Ç—Ä–∞–∑–∏—Ç—Å—è –≤ –≤–∞—à–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

### –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é:

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Supabase Dashboard**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase_add_absence_request_link.sql`:

```sql
ALTER TABLE public.attendance 
ADD COLUMN IF NOT EXISTS absence_request_id INTEGER 
REFERENCES public.absence_requests(id) ON DELETE SET NULL;

CREATE INDEX IF NOT EXISTS idx_attendance_absence_request_id 
ON public.attendance(absence_request_id);
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã:

### –ü—Ä–∏–º–µ—Ä 1: –ó–∞—è–≤–∫–∞ –Ω–∞ –æ–¥–Ω–æ –∑–∞–Ω—è—Ç–∏–µ
```
–°—Ç—É–¥–µ–Ω—Ç: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω
–ó–∞–Ω—è—Ç–∏–µ: –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, 23.12.2025, 10:00
–ü—Ä–∏—á–∏–Ω–∞: –ë–æ–ª–µ–∑–Ω—å
–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–µ—Ç ‚Üí –û–¥–æ–±—Ä–µ–Ω–æ ‚úÖ
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–æ–ø—É—Å–∫ 23.12.2025 –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–π
```

### –ü—Ä–∏–º–µ—Ä 2: –ó–∞—è–≤–∫–∞ –Ω–∞ –ø–µ—Ä–∏–æ–¥
```
–°—Ç—É–¥–µ–Ω—Ç: –ü–µ—Ç—Ä–æ–≤ –ü–µ—Ç—Ä
–î–∞—Ç—ã: [2025-12-23, 2025-12-24, 2025-12-25]
–ü—Ä–∏—á–∏–Ω–∞: –£—á–∞—Å—Ç–∏–µ –≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏
–°—Ç–∞—Ç—É—Å: –û–∂–∏–¥–∞–µ—Ç ‚Üí –û–¥–æ–±—Ä–µ–Ω–æ ‚úÖ
–†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ –∑–∞–Ω—è—Ç–∏—è –≤ —ç—Ç–∏ –¥–∞—Ç—ã –æ—Ç–º–µ—á–µ–Ω—ã –∫–∞–∫ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–µ
```

### –ü—Ä–∏–º–µ—Ä 3: –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
```
–ó–∞—è–≤–∫–∞ –±—ã–ª–∞ –æ–¥–æ–±—Ä–µ–Ω–∞ ‚Üí –û—Ç–∫–ª–æ–Ω–µ–Ω–∞ ‚ùå
–†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ –ø—Ä–æ–ø—É—Å–∫–∏ –ø–æ —ç—Ç–æ–π –∑–∞—è–≤–∫–µ —Å—Ç–∞–ª–∏ –Ω–µ—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω—ã–º–∏
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `absence_request_id` –≤ —Ç–∞–±–ª–∏—Ü—É `attendance`
- **–°–≤—è–∑—å**: –û–¥–∏–Ω –ø—Ä–æ–ø—É—Å–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω —Ç–æ–ª—å–∫–æ —Å –æ–¥–Ω–æ–π –∑–∞—è–≤–∫–æ–π
- **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ**: –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —Å–≤—è–∑—å –æ—á–∏—â–∞–µ—Ç—Å—è (SET NULL)
- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è**: –°–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. `supabase_add_absence_request_link.sql` - SQL –º–∏–≥—Ä–∞—Ü–∏—è
2. `types/supabase.ts` - –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã
3. `pages/Requests/index.tsx` - –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫
4. `components/AbsenceDetailModal.tsx` - –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
5. `ABSENCE_REQUEST_INTEGRATION.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéä
